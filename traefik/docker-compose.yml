version: "3.3"

services:
  traefik:
    image: traefik:latest
    container_name: traefik
    hostname: traefik
    restart: unless-stopped
    ports:
      - 8080:8080
      - 443:443
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - ${DATA_PATH}/config:/etc/traefik/:ro
      - ${DATA_PATH}/certificates:/certificates
    env_file: .env
    networks:
      - traefik_proxy
    extra_hosts: 
      - host.docker.internal:172.17.0.1

networks:
  traefik_proxy:
    external: true